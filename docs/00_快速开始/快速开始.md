# 0. å¿«é€Ÿå¼€å§‹

æ¬¢è¿æ¥åˆ° Aura Alpha çš„ä¸–ç•Œã€‚æœ¬ç« èŠ‚å°†å¼•å¯¼æ‚¨å®Œæˆç¯å¢ƒæ­å»ºï¼Œå¹¶å¿«é€Ÿè¿è¡Œæ‚¨çš„ç¬¬ä¸€ä¸ª ROS2 æ§åˆ¶ç¨‹åºã€‚

---

## ğŸ“¦ å¼€ç®±æ¸…å•

è¯·åœ¨å¼€å§‹å‰æ ¸å¯¹æ‚¨çš„åŒ…è£…ç›’å†…æ˜¯å¦åŒ…å«ä»¥ä¸‹æ ‡å‡†ç»„ä»¶ï¼š

| ç»„ä»¶ | æ•°é‡ | è¯´æ˜ |
|------|------|------|
| Aura Alpha ä¸»æœº | 1 | å« RDK X5 è®¡ç®—å•å…ƒ |
| ä¸“ç”¨å……ç”µçº¿ (Type-C) | 1 | ç”¨äºå……ç”µå’Œè°ƒè¯• |
| å¼€å‘è€…æ¿€æ´»å¡ | 1 | åŒ…å«æ¿€æ´»å¯†é’¥ |

> **ğŸ’¡ æç¤º**
> è¯·å¦¥å–„ä¿ç®¡æ‚¨çš„å¼€å‘è€…æ¿€æ´»å¡ã€‚é¦–æ¬¡é…ç½®æ—¶ï¼Œéœ€è¦ä½¿ç”¨å¡ç‰‡ä¸Šçš„ä¸“å±å¯†é’¥ç»‘å®šæ‚¨çš„å¼€å‘è€…è´¦å·ã€‚

---

## ğŸ› ï¸ ç¯å¢ƒæ­å»º

### 1. ç³»ç»Ÿè¦æ±‚

| é¡¹ç›® | è¦æ±‚ |
|------|------|
| ç¡¬ä»¶å¹³å° | RDK X5 |
| æ“ä½œç³»ç»Ÿ | Ubuntu 22.04 |
| ROS2 ç‰ˆæœ¬ | Humble (TogetheROS) |
| Python | 3.10+ |

### 2. å®‰è£… TogetheROS

```bash
# æ›´æ–°ç³»ç»Ÿ
sudo apt update && sudo apt upgrade -y

# å®‰è£… TogetheROS Humble
sudo apt install tros-humble-ros-base
```

### 3. è·å–æºä»£ç 

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-repo/aura-alpha.git ~/robot_ws

# è¿›å…¥å·¥ä½œç©ºé—´
cd ~/robot_ws/workspace
```

### 4. å®‰è£…ä¾èµ–

```bash
# å®‰è£… Python ä¾èµ–
pip3 install -r requirements.txt

# å®‰è£… ROS2 ä¾èµ–
rosdep install --from-paths src --ignore-src -r -y
```

### 5. ç¼–è¯‘å·¥ä½œç©ºé—´

```bash
# åŠ è½½ ROS2 ç¯å¢ƒ
source /opt/tros/humble/setup.bash

# ç¼–è¯‘æ‰€æœ‰åŒ…
colcon build

# ç¼–è¯‘æ„ŸçŸ¥åŒ…ï¼ˆéœ€æŒ‡å®šå¹³å°ï¼‰
colcon build --packages-select mono2d_body_detection body_tracking \
    --cmake-args -DPLATFORM_X5=ON
```

### 6. é…ç½®ç¯å¢ƒå˜é‡

å°†ä»¥ä¸‹å†…å®¹æ·»åŠ åˆ° `~/.bashrc`ï¼š

```bash
# ROS2 ç¯å¢ƒ
source /opt/tros/humble/setup.bash
source ~/robot_ws/workspace/install/setup.bash

# ç›¸æœºç±»å‹ï¼ˆmipi/usbï¼‰
export CAM_TYPE=mipi
```

æ‰§è¡Œ `source ~/.bashrc` ä½¿é…ç½®ç”Ÿæ•ˆã€‚

---

## ğŸš€ Hello Auraï¼šæ‚¨çš„ç¬¬ä¸€ä¸ªç¨‹åº

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Launch æ–‡ä»¶å¯åŠ¨å®Œæ•´ç³»ç»Ÿ

```bash
# å¯åŠ¨å®Œæ•´ç³»ç»Ÿ
ros2 launch robot_bringup bringup.launch.py
```

### æ–¹å¼äºŒï¼šç¼–å†™è‡ªå®šä¹‰æ§åˆ¶ç¨‹åº

åˆ›å»º `hello_aura.py`ï¼š

```python
#!/usr/bin/env python3
"""
Hello Aura - ç¬¬ä¸€ä¸ªæ§åˆ¶ç¨‹åº
è®©æœºå™¨äººåŸåœ°æ—‹è½¬ 360Â°
"""

import rclpy
from rclpy.node import Node
from geometry_msgs.msg import Twist
import time
import math


class HelloAura(Node):
    def __init__(self):
        super().__init__('hello_aura')
        self.cmd_pub = self.create_publisher(Twist, '/cmd_vel', 10)
        self.get_logger().info('Hello Aura èŠ‚ç‚¹å·²å¯åŠ¨')

    def rotate_360(self, angular_speed=1.0):
        """åŸåœ°æ—‹è½¬ 360Â°"""
        self.get_logger().info('å¼€å§‹æ—‹è½¬...')

        # è®¡ç®—æ—‹è½¬æ—¶é—´
        duration = 2 * math.pi / angular_speed

        msg = Twist()
        msg.angular.z = angular_speed

        start_time = time.time()
        rate = self.create_rate(50)

        while time.time() - start_time < duration:
            self.cmd_pub.publish(msg)
            rate.sleep()

        # åœæ­¢
        self.cmd_pub.publish(Twist())
        self.get_logger().info('æ—‹è½¬å®Œæˆï¼')


def main():
    rclpy.init()
    node = HelloAura()

    try:
        node.rotate_360()
    except KeyboardInterrupt:
        pass
    finally:
        node.destroy_node()
        rclpy.shutdown()


if __name__ == '__main__':
    main()
```

è¿è¡Œç¨‹åºï¼š

```bash
# ç»ˆç«¯ 1ï¼šå¯åŠ¨ç”µæœºèŠ‚ç‚¹
ros2 run motor_node motor_node

# ç»ˆç«¯ 2ï¼šè¿è¡Œæ§åˆ¶ç¨‹åº
python3 hello_aura.py
```

---

## ğŸ¯ éªŒè¯ç³»ç»ŸçŠ¶æ€

### æ£€æŸ¥èŠ‚ç‚¹è¿è¡ŒçŠ¶æ€

```bash
# æŸ¥çœ‹æ‰€æœ‰è¿è¡Œä¸­çš„èŠ‚ç‚¹
ros2 node list

# é¢„æœŸè¾“å‡ºï¼š
# /motor_node
# /audio_duplex_node
# /cloud_realtime_node
# /display_node
# ...
```

### æ£€æŸ¥è¯é¢˜é€šä¿¡

```bash
# æŸ¥çœ‹æ‰€æœ‰è¯é¢˜
ros2 topic list

# ç›‘æ§ç”µæœºè¿æ¥çŠ¶æ€
ros2 topic echo /motor/connected

# ç›‘æ§ç”µæ± çŠ¶æ€
ros2 topic echo /battery_state

# ç›‘æ§ AI çŠ¶æ€
ros2 topic echo /ai/state
```

### æ‰‹åŠ¨å‘é€æ§åˆ¶æŒ‡ä»¤

```bash
# å‰è¿›
ros2 topic pub /cmd_vel geometry_msgs/Twist "{linear: {x: 0.2}}" -1

# æ—‹è½¬
ros2 topic pub /cmd_vel geometry_msgs/Twist "{angular: {z: 0.5}}" -1

# åœæ­¢
ros2 topic pub /cmd_vel geometry_msgs/Twist "{}" -1
```

---

## âš™ï¸ åŠŸèƒ½é…ç½®

ç³»ç»ŸåŠŸèƒ½å¯é€šè¿‡ `config/settings.yaml` é…ç½®ï¼š

```yaml
settings:
  # äººä½“è·ŸéšåŠŸèƒ½
  enable_body_following: false
    # true  â†’ æœºå™¨äººä¼šè·Ÿéšæ£€æµ‹åˆ°çš„äººä½“ç§»åŠ¨
    # false â†’ ç¦ç”¨è·ŸéšåŠŸèƒ½

  # è¯­éŸ³äº¤äº’åŠŸèƒ½
  enable_voice: false
    # true  â†’ å¯ç”¨äº‘ç«¯è¯­éŸ³ AI
    # false â†’ ç¦ç”¨è¯­éŸ³åŠŸèƒ½
```

---

## âš ï¸ å®‰å…¨æŒ‡å—

Aura Alpha æ˜¯ä¸€æ¬¾å…·å¤‡å¼ºå¤§åŠ¨åŠ›çš„æœºå™¨äººã€‚åœ¨è¿›è¡Œå¼€å‘ä¸è°ƒè¯•æ—¶ï¼Œè¯·åŠ¡å¿…éµå®ˆä»¥ä¸‹å®‰å…¨è§„èŒƒï¼š

### è¿åŠ¨å®‰å…¨

- **æµ‹è¯•ç¯å¢ƒ**ï¼šåœ¨å¼€é˜”ã€å¹³å¦ä¸”æ— éšœç¢ç‰©çš„åŒºåŸŸè¿›è¡Œæµ‹è¯•
- **é€Ÿåº¦é™åˆ¶**ï¼šåˆæ¬¡æµ‹è¯•æ—¶ä½¿ç”¨ä½é€Ÿï¼ˆ< 0.2 m/sï¼‰
- **ç´§æ€¥åœæ­¢**ï¼šéšæ—¶å‡†å¤‡å‘é€åœæ­¢æŒ‡ä»¤

```bash
# ç´§æ€¥åœæ­¢å‘½ä»¤
ros2 topic pub /cmd_vel geometry_msgs/Twist "{}" -1
```

### ç”µæ± å®‰å…¨

- ä½¿ç”¨åŸè£…å……ç”µè®¾å¤‡
- é«˜è´Ÿè½½è¿è¡Œåï¼Œç­‰å¾…è®¾å¤‡å†·å´å†å……ç”µ
- ç”µé‡ä½äº 10% æ—¶åŠæ—¶å……ç”µ

### è°ƒè¯•å®‰å…¨

- è¿æ¥è°ƒè¯•ä¸²å£å‰ï¼Œç¡®ä¿è®¾å¤‡å®Œå…¨å…³æœº
- ä¿®æ”¹å‚æ•°åï¼Œå…ˆåœ¨ä½é€Ÿä¸‹éªŒè¯

---

## ğŸ“š ä¸‹ä¸€æ­¥

æ­å–œæ‚¨å®Œæˆäº†å¿«é€Ÿå¼€å§‹ï¼æ¥ä¸‹æ¥å¯ä»¥ï¼š

1. **äº†è§£ç¡¬ä»¶è§„æ ¼** â†’ [ç¡¬ä»¶è§„æ ¼](../01_ç¡¬ä»¶è§„æ ¼/ç¡¬ä»¶è§„æ ¼.md)
2. **æ·±å…¥æŠ€æœ¯åŸç†** â†’ [æŠ€æœ¯åŸç†](../02_æŠ€æœ¯åŸç†/æŠ€æœ¯åŸç†.md)
3. **æŸ¥é˜… API æ‰‹å†Œ** â†’ [API å‚è€ƒæ‰‹å†Œ](../04_API_å‚è€ƒæ‰‹å†Œ/API_å‚è€ƒæ‰‹å†Œ.md)
4. **å°è¯•å¼€å‘ç¤ºä¾‹** â†’ [äºŒæ¬¡å¼€å‘åœºæ™¯ç¤ºä¾‹](../05_äºŒæ¬¡å¼€å‘åœºæ™¯ç¤ºä¾‹/äºŒæ¬¡å¼€å‘åœºæ™¯ç¤ºä¾‹.md)
